// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  	provider = "prisma-client-js"
	previewFeatures = ["driverAdapters"]
}

datasource db {
  	provider = "sqlite"
  	url      = "file:./dev.db"
}

model User {
	id			Int			@id @default(autoincrement())
	username	String		@unique
	role		String
	name		String
	avatar		String
	password	String
	created_at	DateTime?	@default(now())
}

model Shipping {
	id			Int			@id @default(autoincrement())
	name		String
	logo		String
	cost		Int
	status		Boolean		@default(true)
}

model Product {
	id				Int 		@id @default(autoincrement())
	name			String
	description		String
	photo			String
	highlight		String?
	stock			Int
	price			Int
	discount		Int?
	discount_price	Int?
	weight			Int
	type			String
	is_active		Boolean		@default(true)

	review			Review[]
	roasted_beans   Roasted_Beans_Product?
}

model Review {
	id			Int			@id() @default(autoincrement())
	name		String
	location	String
	rating		Int
	content		String
	date		DateTime	@default(now())
	is_hidden	Boolean

	product		Product		@relation(fields: [product_id], references: [id])
	product_id	Int
}

model Roasted_Beans_Product {
	id				Int		@id @default(autoincrement())
	origin			String
	process			String
	test_notes		String
	packaging		String

	product			Product @relation(fields: [product_id], references: [id])
	product_id		Int		@unique
	serving_recommendation	Serving_Recomendation[]
}

model Serving_Recomendation {
	id							Int		@id @default(autoincrement())
	name						String
	description					String
	roasted_beans_product		Roasted_Beans_Product	@relation(fields: [roasted_beans_product_id], references: [id])
	roasted_beans_product_id	Int
}